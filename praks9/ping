#!/bin/bash
# Pingimine range'is 172.23.13.20 - 172.23.13.40
pun=`tput setaf 1`	#punane värv
roh=`tput setaf 2`	#roheline värv
reset=`tput sgr0`	#tagasi originaalvärvi juurde

kp=$(date +"%H:%m-%d.%m.%Y")

echo -n "Sisesta IP vahemiku algus: "
read algus					#küsi vahemiku algust.
echo -n "Sisesta IP vahemiku lõpp: "
read lopp					#küsi vahemiku lõppu

for ((tee=$algus; tee<=$lopp; tee++))
do
	ip="172.23.13.$tee"
	ping -c 2 $ip > /dev/null
		if [ $? -eq 0 ]; then
			echo " ${roh}$ip - OK" >> ./ping-$kp.log
			echo " ${roh}$ip - OK"
			echo "$reset" >> ./ping-$kp.log

		else
			echo " ${pun}$ip - NOT OK" >> ./ping-$kp.log
			echo " ${pun}$ip - NOT OK"
			echo "$reset" >> ./ping-$kp.log
		fi
done
